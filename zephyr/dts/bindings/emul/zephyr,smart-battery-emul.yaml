# Copyright 2021 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

description: Zephyr Smart Battery Emulator

compatible: "zephyr,smart-battery-emul"

include: base.yaml

properties:
  mf-access:
    type: int
    default: 0
    description: Word returned on manufacturer access command.

  at-rate-full-mw-support:
    type: boolean
    description:
      Flag indicating if AT_RATE_TIME_TO_FULL command supports mW capacity
      mode.

  version:
    type: string
    enum:
      - BATTERY_SPEC_VER_1_0
      - BATTERY_SPEC_VER_1_1
      - BATTERY_SPEC_VER_1_1_WITH_PEC
    default: BATTERY_SPEC_VER_1_1_WITH_PEC
    description: Version of Smart Battery.

  vscale:
    type: int
    default: 0
    description: Scaling of voltage.

  ipscale:
    type: int
    default: 0
    description: Scaling of current.

  int-charge-controller:
    type: boolean
    description: Flag indicating if internal charge controller is supported.

  primary-battery:
    type: boolean
    description:
      Flag indicating if primary battery role selection is supported.

  design-mv:
    type: int
    default: 5000
    description: Design battery voltage in mV.

  design-cap:
    type: int
    default: 5000
    description: Design battery capacity in mAh.

  temperature:
    type: int
    default: 2930
    description: Battery temperature in 0.1 Kelvins.

  volt:
    type: int
    default: 5000
    description: Battery voltage in mV.

  cur:
    type: int
    default: 1000
    description: Current charging (> 0) or discharging (< 0) battery in mA.

  avg-cur:
    type: int
    default: 1000
    description: Average current from 1 minute.

  max-error:
    type: int
    default: 0
    description: Maximum error of commands return value in percent.

  cap:
    type: int
    default: 2000
    description: Capacity of the battery in mAh.

  full-cap:
    type: int
    default: 4000
    description: Full capacity of the battery in mAh.

  desired-charg-cur:
    type: int
    default: 2000
    description: Charging current requested by battery.

  desired-charg-volt:
    type: int
    default: 7000
    description: Charging voltage requested by battery.

  cycle-count:
    type: int
    default: 125
    description: Number of cycles.

  serial-number:
    type: int
    default: 7
    description: Serial number of battery.

  mf-name:
    type: string
    default: "zephyr"
    description: Manufacturer name. Length has to be smaller than 32 bytes.

  dev-name:
    type: string
    default: "smartbat"
    description: Device name. Length has to be smaller than 32 bytes.

  dev-chem:
    type: string
    default: "LION"
    description: Device chemistry. Length has to be smaller than 32 bytes.

  mf-data:
    type: string
    default: "LION"
    description: Manufacturer data. Length has to be smaller than 32 bytes.

  mf-info:
    type: string
    default: "LION"
    description: Manufacturer info. Length has to be smaller than 32 bytes.
